{{$comicPages := where site.RegularPages "Section" "comic"}}
{{$numComics := len $comicPages}}
{{$currPageIndex := partial "indexof" (dict "array" $comicPages "targetElem" .)}}
{{$isFirstPage := eq $currPageIndex (sub $numComics 1)}}
{{$isLastPage := eq $currPageIndex 0}}

{{$firstPage := index $comicPages (sub $numComics 1)}}
{{$lastPage := index $comicPages 0}}
{{$prevPage := index $comicPages (add $currPageIndex 1)}}
{{$nextPage := index $comicPages (sub $currPageIndex 1)}}

<div class="row justify-content-center gx-2">
    {{if $isFirstPage}}
        {{partial "comicnav_btn" (dict "id" "first-comic" "content" "&lang;&lang;" "class" "disabled")}}
        {{partial "comicnav_btn" (dict "id" "prev-comic" "content" "&lang;" "class" "disabled")}}
    {{else}}
        {{partial "comicnav_btn" (dict "id" "first-comic" "content" "&lang;&lang;" "href" $firstPage.Permalink "title" "First page")}}
        {{partial "comicnav_btn" (dict "id" "prev-comic" "content" "&lang;" "href" $prevPage.Permalink "title" "Previous page")}}
    {{end}}

    {{partial "comicnav_btn" (dict "id" "random-comic" "href" "" "title" "Random page" "content" "&infin;")}}

    {{if $isLastPage}}
        {{partial "comicnav_btn" (dict "id" "next-comic" "content" "&rang;" "class" "disabled")}}
        {{partial "comicnav_btn" (dict "id" "last-comic" "content" "&rang;&rang;" "class" "disabled")}}
    {{else}}
        {{partial "comicnav_btn" (dict "id" "next-comic" "content" "&rang;" "href" $nextPage.Permalink "title" "Next page")}}
        {{partial "comicnav_btn" (dict "id" "last-comic" "content" "&rang;&rang;" "href" $lastPage.Permalink "title" "Last page")}}
    {{end}}
</div>
